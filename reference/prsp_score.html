<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Analyze comments with Perspective API — prsp_score • peRspective</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Analyze comments with Perspective API — prsp_score" />
<meta property="og:description" content="Provide a character string with your text, your API key and what scores you want to obtain." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">peRspective</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/favstats/peRspective/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Analyze comments with Perspective API</h1>
    <small class="dont-index">Source: <a href='https://github.com/favstats/peRspective/blob/master/R/prsp_score.R'><code>R/prsp_score.R</code></a></small>
    <div class="hidden name"><code>prsp_score.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Provide a character string with your text, your API key and what scores you want to obtain.</p>
    </div>

    <pre class="usage"><span class='fu'>prsp_score</span><span class='op'>(</span>
  <span class='va'>text</span>,
  text_id <span class='op'>=</span> <span class='cn'>NULL</span>,
  languages <span class='op'>=</span> <span class='cn'>NULL</span>,
  score_sentences <span class='op'>=</span> <span class='cn'>F</span>,
  <span class='va'>score_model</span>,
  sleep <span class='op'>=</span> <span class='fl'>1</span>,
  doNotStore <span class='op'>=</span> <span class='cn'>F</span>,
  key <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>text</th>
      <td><p>a character string.</p></td>
    </tr>
    <tr>
      <th>text_id</th>
      <td><p>a unique ID for the text that you supply (required).</p></td>
    </tr>
    <tr>
      <th>languages</th>
      <td><p>A vector of <a href='https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes'>ISO 631-1</a> two-letter language codes specifying the language(s) that comment is in (for example, "en", "es", "fr", "de", etc). If unspecified, the API will autodetect the comment language. If language detection fails, the API returns an error.</p></td>
    </tr>
    <tr>
      <th>score_sentences</th>
      <td><p>A boolean value that indicates if the request should return spans that describe the scores for each part of the text (currently done at per sentence level). Defaults to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>score_model</th>
      <td><p>Specify what model do you want to use (for example <code>TOXICITY</code> and/or <code>SEVERE_TOXICITY</code>). Specify a character vector if you want more than one score. See <code><a href='prsp_models.html'>peRspective::prsp_models</a></code>.</p></td>
    </tr>
    <tr>
      <th>sleep</th>
      <td><p>how long should <code>prsp_score</code> wait between each call</p></td>
    </tr>
    <tr>
      <th>doNotStore</th>
      <td><p>Whether the API is permitted to store comment from this request. Stored comments will be used for future research and community model building purposes to improve the API over time. Perspective API also plans to provide dashboards and automated analysis of the comments submitted, which will apply only to those stored. Defaults to <code>FALSE</code> (request data may be stored). Important note: This should be set to true if data being submitted is private (i.e. not publicly accessible), or if the data submitted contains content written by someone under 13 years old.</p></td>
    </tr>
    <tr>
      <th>key</th>
      <td><p>Your API key (<a href='https://developers.perspectiveapi.com/s/docs-get-started'>see here</a> to set up an API key).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a <code>tibble</code></p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>For more details see <code><a href='perspective-package.html'>?peRspective</a></code> or <a href='https://developers.perspectiveapi.com/s/docs'>Perspective API documentation</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'>## GET TOXICITY SCORES for a comment</span>
<span class='fu'>prsp_score</span><span class='op'>(</span><span class='st'>"Hello, I am a test comment!"</span>,
           score_model <span class='op'>=</span> <span class='st'>"TOXICITY"</span><span class='op'>)</span>
           
<span class='co'>## GET TOXICITY and SEVERE_TOXICITY Scores for a comment</span>
<span class='fu'>prsp_score</span><span class='op'>(</span><span class='st'>"Hello, I am a test comment!"</span>,
           score_model <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"TOXICITY"</span>, <span class='st'>"SEVERE_TOXICITY"</span><span class='op'>)</span><span class='op'>)</span>
  
<span class='co'>## GET TOXICITY and SEVERE_TOXICITY Scores for each sentence of a comment</span>
<span class='fu'>prsp_score</span><span class='op'>(</span><span class='st'>"Hello, I am a test comment! 
           I am a second sentence and I will (hopefully) be scored seperately"</span>,
           score_model <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"TOXICITY"</span>, <span class='st'>"SEVERE_TOXICITY"</span><span class='op'>)</span>,
           score_sentences <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Fabio Votta.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


